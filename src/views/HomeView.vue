<script setup>
import { ref, onMounted, onUnmounted } from 'vue'
import { useRouter } from 'vue-router'
import Nav from './Nav.vue'
import Swal from 'sweetalert2'
import ImageCarousel from '@/components/ImageCarousel.vue'
import Top from '@/components/Top.vue'
import Header from '@/components/HomePage/Header.vue'
import Categories from '@/components/Categories.vue'
import CreditCard from '@/components/HomePage/CreditCard.vue'
import Discount from '@/components/HomePage/Discount.vue'
import Card from '@/components/HomePage/Card.vue'
import Client from '@/components/Client.vue'
import Test from '@/components/Test/Test.vue'
import supportChat from '@/components/support-chat.vue'
import CategorySelector from '@/components/CategorySelector.vue'
import Footer from '@/components/Footer.vue'
import ProductCard from '@/components/ProductCard.vue'
import Sale from '@/components/Sale.vue'

const isNavVisible = ref(false)

function handleScroll() {
  // åªè¦ä¸åœ¨é ‚éƒ¨å°±é¡¯ç¤º
  isNavVisible.value = window.scrollY > 10
}

onMounted(() => {
  window.addEventListener('scroll', handleScroll)
})

onUnmounted(() => {
  window.removeEventListener('scroll', handleScroll)
})





// å½ˆå‡ºç»ç’ƒæ„Ÿé€šçŸ¥
function showMagicGlassAlert() {
  Swal.fire({
    title: 'ğŸ”® é­”æ³•æé†’',
    html: '<p style="font-weight:bold;">ä½ çš„é­”æ³•å€¼å·²å›å¾©ï¼</p>',
    icon: 'info',
    background: '#fff0f0',
    showConfirmButton: true,
    confirmButtonText: 'å¥½è€¶ï¼',
    // confirmButtonColor: '#a78bfa', // ç´«è‰²ç³»
    iconColor: '#f9a8d4', // ç²‰ç´… icon

    // è‡ªè¨‚ classï¼ŒåŠ ä¸Šç»ç’ƒç‰¹æ•ˆ
    customClass: {
      popup: 'glass-alert',
    }
  })
}

</script>

<template>

  <Header />
  <Nav :isVisible="isNavVisible" />
  <Top />
  <Categories />
  <CreditCard />


  <!-- <Sale /> -->
  <ImageCarousel />
  <!-- <ImageCarousel />
  <ImageCarousel />
  <ImageCarousel /> -->


  <Sale />
  <ProductCard />
  <CategorySelector />
  <Card />
  <Discount />



  <!-- <Client /> -->
  <supportChat />

  <Footer />

  <!-- <Test />
   -->

  <!-- é€™æ˜¯ç¶²é ä¸€è¼‰å…¥çš„å»£å‘Š -->
  <!-- <Cute /> -->

  <!-- <button class="px-4 py-2 bg-purple-300 text-white rounded-xl shadow-md" @click="showMagicGlassAlert">
    æ‰“é–‹é­”æ³•é€šçŸ¥ âœ¨
  </button> -->

  <!-- <button @click="openLogin">æœƒå“¡ä¸­å¿ƒ</button>
  <button @click="openLogin">è³¼ç‰©è»Š</button>
  <button @click="openLogin">æ”¶è—</button>
  <a @click="mem()">æ”¶è—</a>

  <button @click="openModal()" class="bg-pinky hover:bg-pink-500 text-white px-4 py-2 rounded shadow">
        é–‹å•Ÿå¤¢å¹» Modal
  </button>
  <PinkModal :show="showModal" @close="closeModal" /> -->

  <!-- 
  <LoginModal :show="showLogin" @close="closeLogin" /> -->
</template>

<style>
body {
  /* background-color: #fff0f0; */
  background: linear-gradient(to bottom, #fff0f0, #e8f7ff, #fce7f3);

}
</style>

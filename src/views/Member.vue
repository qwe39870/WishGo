<template>
  <Header />
  <Nav :isVisible="isNavVisible" />
  <Categories />
  <CreditCard />

  <!-- ğŸ›¡ï¸ é˜²è©æé†’å€ -->
  <div class="bg-yellow-50 border-l-4 border-yellow-400 text-yellow-800 p-4 mx-auto max-w-6xl rounded-xl mt-2">
    <p class="font-medium">ğŸ”” æé†’æ‚¨ï¼š</p>
    <p class="text-sm mt-1">WishGo çµ•ä¸æœƒä¸»å‹•ä»¥é›»è©±æˆ–ç°¡è¨Šé€šçŸ¥é¡§å®¢è®Šæ›´ä»˜æ¬¾æ–¹å¼ï¼Œæ›´ä¸æœƒä»¥ä»»ä½•ç†ç”±è¦æ±‚æ‚¨æ“ä½œ ATM æˆ–æä¾›å€‹äººé‡‘èè³‡è¨Šã€‚è‹¥æ¥ç²å¯ç–‘é›»è©±æˆ–ç°¡è¨Šï¼Œè«‹æ’¥æ‰“ 165 åè©é¨™å°ˆç·šæŸ¥è­‰ï¼Œä¿éšœæ‚¨çš„æ¬Šç›Šï¼</p>
  </div>

  <!-- ğŸ° æœƒå“¡ä¸­å¿ƒé é¢ -->
  <div class="max-w-6xl mx-auto p-6">
    <!-- ä¸Šæ–¹åˆ†é¡ Tabs -->
    <div class="flex flex-wrap justify-center md:justify-center gap-1 border-b-4 border-pink-500 mb-4">
      <button
        v-for="tab in tabs"
        :key="tab.key"
        @click="currentTab = tab.key"
        class="px-4 py-2 rounded-t-[4px] text-sm font-medium transition shadow border-x border-t  border-pink-500"
        :class="currentTab === tab.key
          ? 'bg-pink-500 text-white border-pink-500'
          : 'bg-white text-pink-500 border-pink-200 hover:bg-pink-50'"
      >
        {{ tab.label }}
      </button>
    </div>

    <!-- ä¸‹æ–¹å°æ‡‰å…§å®¹ -->
    <div v-if="currentTab === 'orders'" class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <TabCard title="ğŸ§¾ è¨‚å–®æŸ¥è©¢" desc="æŸ¥çœ‹æ‚¨éå»çš„è¨‚å–®ç´€éŒ„ã€‚" to="/orderList" />
      <TabCard title="ğŸšš é…é€é€²åº¦æŸ¥è©¢" desc="æŸ¥çœ‹æ‚¨çš„å•†å“ç›®å‰é…é€ç‹€æ…‹ã€‚" to="/delivery-tracking" />
      <TabCard title="ğŸ” ç”³è«‹æ›è²¨" desc="é‡å°ç¬¦åˆæ¢ä»¶å•†å“ç”³è«‹æ›è²¨ã€‚" to="/return-apply" />
      <TabCard title="â­ è¿½è¹¤æ¸…å–®" desc="æŸ¥çœ‹æ‚¨è¿½è¹¤çš„å•†å“æ¸…å–®ã€‚" to="/favorites" />
      <TabCard title="ğŸ“¢ è£œè²¨é€šçŸ¥" desc="æ‚¨è¨­å®šçš„ç¼ºè²¨è£œè²¨æé†’ã€‚" to="/restock-alerts" />
    </div>

    <div v-else-if="currentTab === 'account'" class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <TabCard title="ğŸ‘¤ å€‹äººå¸³æˆ¶ç®¡ç†" desc="è®Šæ›´å¯†ç¢¼ã€å¸³è™Ÿè¨­å®šç­‰ã€‚" to="/account" />
      <TabCard title="ğŸ“ è³‡æ–™ä¿®æ”¹" desc="æ›´æ–°æ‚¨çš„å€‹äººåŸºæœ¬è³‡æ–™ã€‚" to="/edit-profile" />
      <TabCard title="ğŸ“¬ åœ°å€ç®¡ç†" desc="è¨­å®šèˆ‡ç®¡ç†æ‚¨çš„æ”¶ä»¶åœ°å€ã€‚" to="/addresses" />
      <TabCard title="ğŸ“¨ é›»å­å ±ç®¡ç†" desc="å–æ¶ˆæˆ–è¨‚é–±é›»å­å ±ã€‚" to="/newsletter" />
    </div>

    <div v-else-if="currentTab === 'rewards'" class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <TabCard title="ğŸ æŠ˜åƒ¹åˆ¸æŸ¥è©¢" desc="ç®¡ç†èˆ‡ä½¿ç”¨æ‚¨çš„å„ªæƒ åˆ¸ã€‚" to="/coupons" />
      <TabCard title="ğŸ’° momoå¹£æŸ¥è©¢" desc="æ‚¨ç›®å‰æ“æœ‰çš„ momoå¹£ã€‚" to="/points" />
      <TabCard title="ğŸ‰ æ´»å‹•ç™»è¨˜æŸ¥è©¢" desc="æŸ¥çœ‹æ‚¨åƒåŠ éçš„æ´»å‹•ç´€éŒ„ã€‚" to="/campaigns" />
      <TabCard title="ğŸ’³ momoå¡ç”³è«‹" desc="ç”³è«‹èˆ‡ç®¡ç† momo å¡ã€‚" to="/momo-card" />
    </div>

    <div v-else-if="currentTab === 'invoice'" class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <TabCard title="ğŸ§¾ é›»å­ç™¼ç¥¨è¼‰å…·" desc="ç¶å®šè¼‰å…·èˆ‡æŸ¥è©¢ä¸­çç™¼ç¥¨ã€‚" to="/invoices" />
      <TabCard title="ğŸ† ä¸­çç™¼ç¥¨åˆ—å°" desc="è¶…å•†åˆ—å°ä¸­çç™¼ç¥¨ã€‚" to="/invoice-print" />
    </div>

    <div v-else-if="currentTab === 'service'" class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <TabCard title="ğŸ’¬ ç·šä¸Šå®¢æœ" desc="å³æ™‚è¯ç¹«å®¢æœäººå“¡ã€‚" to="/chat" />
      <TabCard title="â“ å¸¸è¦‹å•ç­” FAQ" desc="è§£ç­”æ‚¨å¸¸è¦‹çš„å•é¡Œã€‚" to="/faq" />
      <TabCard title="ğŸ“„ å®¢æœè¯çµ¡ç´€éŒ„" desc="æŸ¥çœ‹æ‚¨æ›¾è¯çµ¡å®¢æœçš„ç´€éŒ„ã€‚" to="/contact-history" />
      <TabCard title="ğŸ”’ éš±ç§æ¬Šæ”¿ç­–" desc="äº†è§£æˆ‘å€‘å¦‚ä½•ä¿è­·æ‚¨çš„è³‡è¨Šã€‚" to="/privacy" />
    </div>
  </div>

  <Footer />
</template>

<script setup>
import { ref, onMounted, onUnmounted } from 'vue'
import Header from '@/components/HomePage/Header.vue'
import Nav from './Nav.vue'
import Categories from '@/components/Categories.vue'
import Footer from '@/components/Footer.vue'
import TabCard from '@/components/TabCard.vue'
import CreditCard from '@/components/CreditCard.vue'

const isNavVisible = ref(false)

function handleScroll() {
  // åªè¦ä¸åœ¨é ‚éƒ¨å°±é¡¯ç¤º
  isNavVisible.value = window.scrollY > 10
}

onMounted(() => {
  window.addEventListener('scroll', handleScroll)
})

onUnmounted(() => {
  window.removeEventListener('scroll', handleScroll)
})


const currentTab = ref('orders')

const tabs = [
  { key: 'orders', label: 'è¨‚å–®æŸ¥è©¢' },
  { key: 'account', label: 'é¡§å®¢ä¸­å¿ƒ' },
  { key: 'rewards', label: 'å„ªæƒ å¥½åº·' },
  { key: 'invoice', label: 'æœå‹™èªªæ˜' },
  { key: 'service', label: 'å®¢æœä¸­å¿ƒ' },
]
</script>
